{
  "comments": [
    {
      "key": {
        "uuid": "fa1b9901_2bffc302",
        "filename": "templates/scripts/includes/deployment.sh",
        "patchSetId": 2
      },
      "lineNbr": 1396,
      "author": {
        "id": 1000000
      },
      "writtenOn": "2019-07-04T08:23:38Z",
      "side": 1,
      "message": "This is also debootstrap specific should be killed as well when dropping debootstrap support",
      "revId": "18c757df0a2c2081e6f5424357e1bb71124c4467",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa1b9901_f5876fd5",
        "filename": "templates/scripts/includes/deployment.sh",
        "patchSetId": 2
      },
      "lineNbr": 1404,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-07-03T13:46:06Z",
      "side": 1,
      "message": "The file should always contain numbers, and after buster it will be \"1.\\.\" (note: it\u0027s a regex-like) for many years.  So I\u0027d compare it that way:\n\n  ^1.\\.)\n     echo \"BUSTER OR LATER, OK\"\n     ;;\n  *)\n     die \"...\"\n     ;;\n\nor the same but with:\n\n   if [[ $(cat /etc/debian_version) \u003d~ ^1.\\. ]]; then\n      ...\n\nIt more or less works because 10* in a way matches anything between \"10\" and \"19\", but still I think that it\u0027s better to be more precise, if only to remind ourselves that it\u0027s a regex.",
      "revId": "18c757df0a2c2081e6f5424357e1bb71124c4467",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa1b9901_55773b02",
        "filename": "templates/scripts/includes/deployment.sh",
        "patchSetId": 2
      },
      "lineNbr": 1404,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-07-03T13:51:07Z",
      "side": 1,
      "message": "Other alternatives:\n\n  $ rel\u003d$(cat /etc/debian_version); if [[ ${rel} \u003d~ ^[1-9][0-9]\\. ]]; then echo \"yes: ${rel}\"; fi\n  yes: 10.0\n\n  $ rel\u003d$(cat /etc/debian_version); if [[ ${rel} \u003d~ ^[0-9]{2}\\. ]]; then echo \"yes: ${rel}\"; fi\n  yes: 10.0\n\nVersions that don\u0027t match:\n\n  $ rel\u003d9.9; if [[ ${rel} \u003d~ ^[0-9]{2}\\. ]]; then echo \"yes: ${rel}\"; fi\n  [no output]\n\n  $ rel\u003d19.9; if [[ ${rel} \u003d~ ^[0-9]{2}\\. ]]; then echo \"yes: ${rel}\"; fi\n  yes: 19.9\n\n  $ rel\u003d6.9; if [[ ${rel} \u003d~ ^[0-9]{2}\\. ]]; then echo \"yes: ${rel}\"; fi\n  [no output]",
      "parentUuid": "fa1b9901_f5876fd5",
      "revId": "18c757df0a2c2081e6f5424357e1bb71124c4467",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa1b9901_b5d817f1",
        "filename": "templates/scripts/includes/deployment.sh",
        "patchSetId": 2
      },
      "lineNbr": 1405,
      "author": {
        "id": 1000045
      },
      "writtenOn": "2019-07-03T15:13:50Z",
      "side": 1,
      "message": "Well I think we can use a simple \"if [[ -x $(which ...)\" but do we really need it?",
      "revId": "18c757df0a2c2081e6f5424357e1bb71124c4467",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa1b9901_f5a3ef4d",
        "filename": "templates/scripts/includes/deployment.sh",
        "patchSetId": 2
      },
      "lineNbr": 1405,
      "author": {
        "id": 1000042
      },
      "writtenOn": "2019-07-03T16:11:33Z",
      "side": 1,
      "message": "\u003e Well I think we can use a simple \"if [[ -x $(which ...)\" but do we\n \u003e really need it?\n\nIt would be an option, yes.\n\nWhat I meant with the comments above are two things:\n\n1) buster is unnecessary, because those are always version numbers, nor codenames (and if it changes it would break lots of stuff, so I think that it will never change).\n\n2) The match of \"10*\" will match 100 but not the next one (11), so I think that it\u0027s better to change it for something like:\n\n  case ${rel} in [1-9][0-9].[0-9]*) echo MATCHES ;; *) echo DOESNT_MATCH ;; esac\n\nOr use the \"if expression with regexes\" in previous comments.",
      "parentUuid": "fa1b9901_b5d817f1",
      "revId": "18c757df0a2c2081e6f5424357e1bb71124c4467",
      "serverId": "85315e57-5f03-49c3-83f8-201ae2313a75",
      "unresolved": false
    }
  ]
}